# NAT & CGNAT

🗓️ M/Y: Jul-25  
📂 Category: Network Addressing & Identity - IP Addressing 

---

## What is NAT?

**NAT = Network Address Translation**

It’s like a receptionist at an office.

You → goes to the receptionist (your [router](https://github.com/orze4r/Networking-Journey/blob/main/3.%20Network%20Hardware%20%26%20Topologies/3.1%20-%20Devices/3.1.5%20-%20Router.md))  
The receptionist → talks to the outside world on your behalf  
When the world replies → she brings the message back to you

So your internal devices (like `192.168.x.x`) never directly show up online.  
The router **translates** your private IP → [public IP.](https://github.com/orze4r/Networking-Journey/blob/main/5.%20Network%20Addressing%20%26%20Identity/5.1%20-%20IP%20Addressing/5.1.3%20-%20Private%20vs%20Public%20IP.md)

---

## Why do we even need NAT?

Because there are not enough IPs in the world. [IPv4](https://github.com/orze4r/Networking-Journey/blob/main/5.%20Network%20Addressing%20%26%20Identity/5.1%20-%20IP%20Addressing/5.1.1%20-%20IPv4%20Address.md) only has ~4 billion usable ones, and we got more devices than that.

So we cheat (lol):

- We give homes/offices [**private IPs**](https://github.com/orze4r/Networking-Journey/blob/main/5.%20Network%20Addressing%20%26%20Identity/5.1%20-%20IP%20Addressing/5.1.3%20-%20Private%20vs%20Public%20IP.md) from special reserved ranges
- All devices talk through **one single public IP**
- NAT keeps track of who asked for what

It’s like 10 roommates ordering food from the same phone number, and the guy at the gate has to figure out whose food is whose.

---

## Basic NAT example

| Internal Device IP | Request        | Router's Public IP | NAT Does                        |
|--------------------|----------------|--------------------|---------------------------------|
| 192.168.0.5        | google.com     | 103.21.24.10       | Rewrites the source IP, tracks it |
| 192.168.0.6        | youtube.com    | 103.21.24.10       | Same, but handled separately    |

My router keeps a **NAT table** so when the replies come back, it knows which internal device to give it to.

---

## What is CGNAT? (Carrier-Grade NAT)

This is NAT on **steroids** — done by **our mobile ISP** (Airtel, T-Mobile, etc)

- They DON'T even give us a public IP.
- They give us something like `10.x.x.x` (also private!)
- And then NAT us at their end.

So the chain becomes:

📱You → 🛜 Router in ISP Tower (NAT) → 🌐 Internet

You're **double NAT’d**.  
And the worst part? **You can’t receive any incoming connections.**

No hosting, no direct access to you, no scans — nothing.

---


## What happens because of NAT & CGNAT?

| Task                   | NAT (Home Wi-Fi)     | CGNAT (Mobile Data)           |
|------------------------|----------------------|-------------------------------|
| Accessing the internet | ✅ Works             | ✅ Works                       |
| Receiving connections  | ❌ Blocked (unless allowed) | ❌ Fully Blocked        |
| Running P2P or torrents|  Works, but flaky  |  Bad or doesn't work         |
| Scanning my own IP   | ✅ Works if public    | ❌ Always shows "filtered"     |

---

## NAT vs CGNAT

| Feature           | NAT (Home Router)        | CGNAT (Mobile ISP)            |
|------------------|--------------------------|-------------------------------|
| Who controls it? | You / Your Router        | ISP (Mobile Provider)         |
| Public IP?       | Yes                      | No (You get a private one)    |
| Receive traffic? | ✅ With right config     | ❌ No way                     |
| Self-host server?| Possible                 | Impossible (without VPN etc.) |

---


## Real talk

NAT is not a bug. It’s a **band-aid** on a broken IPv4 system.  
CGNAT is the **duct tape** that ISPs use to avoid giving us a real IP.  
IPv6 is supposed to fix this… but who even uses IPv6 at home? 😂

---
